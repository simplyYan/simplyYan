#!/bin/bash

echo "ğŸ“¦ Updating system..."
apt update && apt upgrade -y

echo "ğŸ”§ Installing essential dependencies..."
apt install -y git curl wget build-essential python3 python3-pip python3-venv golang net-tools lsb-release software-properties-common

echo "ğŸ Ensuring Python and pip are up to date..."
python3 -m pip install --upgrade pip setuptools

echo "âš™ï¸ Installing pentest tools..."

# 1. DNSEnum
echo "ğŸ” Installing dnsenum..."
apt install -y dnsenum

# 2. Aircrack-ng
echo "ğŸ“¶ Installing aircrack-ng..."
apt install -y aircrack-ng

# 3. MDK4
echo "ğŸ“¡ Installing mdk4..."
apt install -y mdk4

# 4. Recon-ng
echo "ğŸ•µï¸ Installing recon-ng..."
git clone https://github.com/lanmaster53/recon-ng.git /opt/recon-ng
ln -s /opt/recon-ng/recon-ng /usr/local/bin/recon-ng
chmod +x /usr/local/bin/recon-ng

# 5. EyeWitness
echo "ğŸ“¸ Installing EyeWitness..."
apt install -y seclists chromium-driver
git clone https://github.com/FortyNorthSecurity/EyeWitness.git /opt/EyeWitness
cd /opt/EyeWitness/setup && ./setup.sh
ln -s /opt/EyeWitness/EyeWitness.py /usr/local/bin/eyewitness
cd ~

# 6. Maigret
echo "ğŸ” Installing Maigret..."
pip install maigret

# 7. Nikto
echo "ğŸŒ Installing Nikto..."
apt install -y nikto

# 8. Netcat
echo "ğŸ§ª Installing Netcat..."
apt install -y netcat

# 9. Dmitry
echo "ğŸ•¸ï¸ Installing Dmitry..."
apt install -y dmitry

# 10. Nmap
echo "ğŸ›°ï¸ Installing Nmap..."
apt install -y nmap

# 11. Python & Go
echo "ğŸ Python and ğŸ”µ Go already installed!"

# 12. Wireshark
echo "ğŸ§¬ Installing Wireshark..."
DEBIAN_FRONTEND=noninteractive apt install -y wireshark
usermod -aG wireshark $SUDO_USER

# 13. Tor & Proxychains
echo "ğŸ•¶ï¸ Installing Tor and Proxychains..."
apt install -y tor proxychains4
systemctl enable tor --now

# Optional: Create alias for easy Tor proxy use
echo "alias proxytor='proxychains4'" >> /home/$SUDO_USER/.bashrc

echo ""
echo "âœ… All tools installed successfully!"
echo "ğŸ” Please reboot or logout/login to apply group changes (Wireshark)."
echo "ğŸ’¡ Tip: Use 'proxychains4 <command>' to route tools through Tor."
echo "ğŸ”¥ System is now ready for efficient pentesting!"
